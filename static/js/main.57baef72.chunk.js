(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{28:function(e,t,n){e.exports=n(47)},37:function(e,t,n){},39:function(e,t,n){},47:function(e,t,n){"use strict";n.r(t);var a=n(2),r=n.n(a),s=n(19),c=n.n(s),u=n(6),i=n(7),o=n(25),l=(n(37),n(21)),m=n(22),E=n(26),d=n(23),f=n(27),p=function(e){var t=e.message,n=e.author;return r.a.createElement("p",null,r.a.createElement("i",null,n),": ",t)},S=function(e){var t=e.messages;return r.a.createElement("section",{id:"messages-list"},r.a.createElement("ul",null,t.map(function(e){return r.a.createElement(p,Object.assign({key:e.id},e))})))},b=Object(u.b)(function(e){return{messages:e.messages}},null)(S),g=0,h=0,v=function(e){var t;return r.a.createElement("section",{id:"new-message"},r.a.createElement("input",{onKeyPress:function(n){"Enter"===n.key&&(e.addMessage(t.value,"Me"),t.value="")},type:"text",placeholder:"Type new message here...",ref:function(e){t=e}}))},y={addMessage:function(e,t){return{type:"ADD_MESSAGE",id:g++,message:e,author:t}}},O=Object(u.b)(null,y)(v),D=function(e){var t=e.users;return r.a.createElement("aside",{id:"sidebar"},r.a.createElement("ul",null,t.map(function(e){return r.a.createElement("li",{key:e.id},e.name)})))},j=Object(u.b)(function(e){return{users:e.users}},null)(D),w=(n(39),function(e){function t(){return Object(l.a)(this,t),Object(E.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"container",id:"container"},r.a.createElement(j,null),r.a.createElement("section",{id:"main"},r.a.createElement(b,null),r.a.createElement(O,null)))}}]),t}(a.Component)),A=n(12),_=[],k=[],M=Object(i.c)({messages:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_MESSAGE":case"MESSAGE_RECEIVED":return[].concat(Object(A.a)(e),[{message:t.message,author:t.author,id:t.id}]);default:return e}},users:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_USER":return[].concat(Object(A.a)(e),[{name:t.name,id:t.id}]);case"USERS_LIST":return t.users;default:return e}}}),R=function(e,t){var n=new WebSocket("ws://localhost:8989");return n.onopen=function(){n.send(JSON.stringify({type:"ADD_USER",name:t}))},n.onmessage=function(t){var n,a,r,s=JSON.parse(t.data);switch(s.type){case"ADD_MESSAGE":e((a=s.message,r=s.author,{type:"MESSAGE_RECEIVED",id:g++,message:a,author:r}));break;case"ADD_USER":e((n=s.name,{type:"ADD_USER",id:h++,name:n}));break;case"USERS_LIST":e({type:"USERS_LIST",users:s.users})}},n},U=n(16),G=n.n(U),I=n(11),J=G.a.mark(function e(t){return G.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(I.a)("ADD_MESSAGE",function(e){e.author=t.username,t.socket.send(JSON.stringify(e))});case 2:case"end":return e.stop()}},e,this)}),x=n(24),N=(new(n.n(x).a)).first(),T=Object(o.a)(),C=Object(i.d)(M,Object(i.a)(T));C.subscribe(function(){console.log(C.getState())});var L=R(C.dispatch,N);T.run(J,{socket:L,username:N}),c.a.render(r.a.createElement(u.a,{store:C},r.a.createElement(w,null)),document.getElementById("root"))}},[[28,2,1]]]);
//# sourceMappingURL=main.57baef72.chunk.js.map